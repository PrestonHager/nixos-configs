# nixos-configs

Configurations for NixOS and Nix Package Manager

## Setup

Setup by cloning the repository into `/etc/nixos`.

```sh
sudo git clone https://github.com/PrestonHager/nixos-configs.git /etc/nixos
```

Generate the hardware configuration file. Copy the hardware configuration file
to the correct location.

```sh
cd /etc/nixos
sudo nixos-generate-config
sudo cp hardware-configuration.nix nixos/hardware-configuration.nix
```

You can remove the `configuration.nix` file that was generated by the previous
command. It will not be used. Then rebuild the nixos system using flakes.

```sh
sudo nixos-rebuild switch --flake /etc/nixos#gnome
```

### Customization

There are three different flakes you can generate configs from. `headless`,
`gnome`, and `i3` each corresponding to different desktop environments. To
change the configuration, place the desired flake configuration after the `#`
in the `--flake` option of the `nixos-rebuild` command. For example, to build a
headless system run the following:

```sh
sudo nixos-rebuild switch --flake /etc/nixos#headless
```

You may want to customize the username, config files, etc. To do this, edit the
username in `configuration.nix`. Then either copy the files from
`users/prestonh` to `users/yourusername` or create an empty directory and copy
`users/prestonh/home.nix` into it.

## Development

You may want to change the remote to use SSH instead of HTTPS.

```sh
sudo git remote set-url origin git@github.com:PrestonHager/nixos-configs.git
```

Replace `PrestonHager` with your GitHub username after you have forked the
repository.


